<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright 2011 Alexander Orlov <alexander.orlov@loxal.net>
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
             xmlns:g="urn:import:com.google.gwt.user.client.ui"
             xmlns:c="urn:import:com.google.gwt.user.cellview.client"
             ui:generateFormat="com.google.gwt.i18n.rebind.format.PropertiesFormat"
             ui:generateKeys="com.google.gwt.i18n.rebind.keygen.MD5KeyGenerator"
             ui:generateLocales="default">

    <ui:style>
        .invisibleDueToBugInGWT {
            display: none;
        }
    </ui:style>

    <g:TabLayoutPanel barHeight="32" ui:field="tabPanel">
        <g:tab>
            <g:header>
                <ui:msg>Create Task</ui:msg>
                <!--Actually: DEFINE Task-->
            </g:header>
            <g:VerticalPanel>
                <g:Label>
                    <ui:msg>Name</ui:msg>
                </g:Label>
                <g:TextBox ui:field="name"/>
                <g:Label>
                    <ui:msg>Category</ui:msg>
                </g:Label>
                <g:TextBox ui:field="category"/>
                <g:Label>
                    <ui:msg>Priority (numeric value: 0-100):</ui:msg>
                </g:Label>
                <g:TextBox ui:field="priority"/>
                <g:HTMLPanel stylePrimaryName="{style.invisibleDueToBugInGWT}">
                    <g:Label>
                        <ui:msg>Attachment</ui:msg>
                    </g:Label>
                    <g:FormPanel ui:field="uploadForm" method="post" encoding="multipart/form-data">
                        <g:FileUpload ui:field="fileUpload" name="fileUpload"/>
                    </g:FormPanel>
                    <g:HTML>
                        <small>[User-bound persistence is not possible yet<a
                                href="http://code.google.com/p/google-web-toolkit/issues/detail?id=5242">due to a GWT
                            bug</a>. All uploaded files are public.]
                        </small>
                    </g:HTML>
                </g:HTMLPanel>
                <g:Label>
                    <ui:msg>Description</ui:msg>
                </g:Label>
                <g:TextArea ui:field="description"/>
                <g:Button ui:field="createTask" title="[Access Key: C]">
                    <ui:attribute name="title" description="Access Key"/>
                    <ui:msg>Create</ui:msg>
                </g:Button>
            </g:VerticalPanel>
        </g:tab>

        <g:tab>
            <g:header>
                <ui:msg>Show Tasks</ui:msg>
            </g:header>
            <g:VerticalPanel ui:field="control">
                <c:CellTable ui:field="taskPager" pageSize="10" pageStart="1"/>
                <c:PageSizePager increment="3" visible="true" pageSize="10"/>
                <c:SimplePager location="RIGHT" pageSize="10" visible="true"/>
                <g:Button ui:field="showAllTasks" visible="false">
                    <ui:msg>Show All Tasks</ui:msg>
                </g:Button>
            </g:VerticalPanel>
        </g:tab>

        <g:tab>
            <g:header>
                <ui:msg>Show Files</ui:msg>
            </g:header>
            <g:VerticalPanel>
                <c:CellTable ui:field="blobPager" pageSize="10" pageStart="1"/>
                <c:PageSizePager increment="3"/>
                <c:SimplePager location="RIGHT" page="1"/>
            </g:VerticalPanel>
        </g:tab>

        <g:tab>
            <g:header>
                <ui:msg>Process Task</ui:msg>
            </g:header>
            <g:VerticalPanel ui:field="processTaskPanel">
                <g:MenuBar animationEnabled="true" ui:field="menu" focusOnHoverEnabled="true" vertical="false"
                           autoOpen="true">
                    <g:MenuItem ui:field="placeholder" text="|"/>
                    <g:MenuItem ui:field="taskItem" title="Task Related Actions">
                        <ui:attribute name="title" description="Task Related Actions"/>
                        <g:MenuBar vertical="true">
                            <g:MenuItem text="Delete" title="Delete Task" ui:field="deleteTask">
                                <ui:attribute name="text" description="Delete Task"/>
                                <ui:attribute name="title" description="Delete Task"/>
                            </g:MenuItem>
                            <g:MenuItem ui:field="closeTask" text="Go Back to Task List"
                                        title="...and go back to the Task list.">
                                <!--Actually: Close Task-->
                                <ui:attribute name="text" description="Close Task"/>
                                <ui:attribute name="title" description="...and go back to the Task list."/>
                            </g:MenuItem>
                        </g:MenuBar>
                    </g:MenuItem>
                </g:MenuBar>

                <g:Label>
                    <ui:msg>ID</ui:msg>
                </g:Label>
                <g:Label ui:field="taskId"/>
                <g:Label>
                    <ui:msg>Name</ui:msg>
                </g:Label>
                <g:TextBox ui:field="nameUpdate"/>
                <g:Label>
                    <ui:msg>Category</ui:msg>
                </g:Label>
                <g:TextBox ui:field="categoryUpdate"/>
                <g:Label>
                    <ui:msg>Priority (numeric value: 0-100):</ui:msg>
                </g:Label>
                <g:TextBox ui:field="priorityUpdate"/>
                <g:Label>
                    <ui:msg>Attachment</ui:msg>
                </g:Label>
                <g:FormPanel ui:field="uploadFormUpdate" method="post" encoding="multipart/form-data">
                    <g:FileUpload ui:field="fileUploadUpdate" name="fileUpload"/>
                </g:FormPanel>
                <g:Label>
                    <ui:msg>Description</ui:msg>
                </g:Label>
                <g:TextArea ui:field="descriptionUpdate"/>
                <g:Button ui:field="updateTask" title="[Access Key: U]">
                    <ui:attribute name="title" description="Access Key"/>
                    <ui:msg>Update</ui:msg>
                </g:Button>
            </g:VerticalPanel>
        </g:tab>
    </g:TabLayoutPanel>
</ui:UiBinder>